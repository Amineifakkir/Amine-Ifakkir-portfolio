<nav [@animateMenu] class="navbar main-navbar on-top" [class.nav-shadow]="pageYPosition > 0">
  <div class="container nav-container">
    <a class="navbar-brand" [routerLink]="'inicio'">
      <img src="assets/images/logo.png" alt="Amine Ifakkir" />
    </a>

    <div class="nav-shell">
      <ul class="menu-list">
        <li
          class="menu-item"
          [class.is-active]="isActive('about')"
        >
          <button type="button" (click)="analyticsService.sendAnalyticEvent('click_about', 'menu', 'click'); scroll('about')">
            <span class="menu-index">01.</span>
            <span class="menu-label">{{ 'Header.Item1' | translate }}</span>
          </button>
        </li>
        <li
          class="menu-item"
          [class.is-active]="isActive('tech-stack')"
        >
          <button type="button" (click)="analyticsService.sendAnalyticEvent('click_stack', 'menu', 'click'); scroll('tech-stack')">
            <span class="menu-index">02.</span>
            <span class="menu-label">{{ 'Header.Item2' | translate }}</span>
          </button>
        </li>
        <li
          class="menu-item"
          [class.is-active]="isActive('jobs')"
        >
          <button type="button" (click)="analyticsService.sendAnalyticEvent('click_experience', 'menu', 'click'); scroll('jobs')">
            <span class="menu-index">03.</span>
            <span class="menu-label">{{ 'Header.Item3' | translate }}</span>
          </button>
        </li>
        <li
          class="menu-item"
          [class.is-active]="isActive('projects')"
        >
          <button type="button" (click)="analyticsService.sendAnalyticEvent('click_jobs', 'menu', 'click'); scroll('projects')">
            <span class="menu-index">04.</span>
            <span class="menu-label">{{ 'Header.Item4' | translate }}</span>
          </button>
        </li>
        <li
          class="menu-item"
          [class.is-active]="isActive('contact')"
        >
          <button type="button" (click)="analyticsService.sendAnalyticEvent('click_contact', 'menu', 'click'); scroll('contact')">
            <span class="menu-index">05.</span>
            <span class="menu-label">{{ 'Header.Item5' | translate }}</span>
          </button>
        </li>
      </ul>

      <div class="nav-actions">
        <button type="button" class="resume-chip" (click)="downloadCVConst()">
          {{ 'Header.cvBtn' | translate }}
        </button>

        <div class="language-select" ngbDropdown>
          <button
            class="language-trigger"
            id="languageDropdown"
            ngbDropdownToggle
            type="button"
          >
            <img
              *ngIf="languageFormControl.value === 'en'"
              src="https://www.worldometers.info/img/flags/us-flag.gif"
              alt="English"
            />
            <img
              *ngIf="languageFormControl.value === 'gr'"
              src="https://www.worldometers.info/img/flags/gm-flag.gif"
              alt="Deutsch"
            />
            <img
              *ngIf="languageFormControl.value === 'fr'"
              src="https://www.worldometers.info/img/flags/fr-flag.gif"
              alt="French"
            />
            <span class="language-label" *ngIf="languageFormControl.value === 'en'">English</span>
            <span class="language-label" *ngIf="languageFormControl.value === 'gr'">Deutsch</span>
            <span class="language-label" *ngIf="languageFormControl.value === 'fr'">French</span>
            <svg class="language-arrow" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
              <path d="M0 7.33l2.829-2.83 9.175 9.339 9.167-9.339 2.829 2.83-11.996 12.17z" />
            </svg>
          </button>

          <div ngbDropdownMenu aria-labelledby="languageDropdown" class="language-menu">
            <button
              type="button"
              class="language-option"
              [class.is-active]="languageFormControl.value === 'en'"
              (click)="changeLanguage('en'); responsiveMenuVisible = false"
            >
              <img src="https://www.worldometers.info/img/flags/us-flag.gif" alt="English" />
              <span>English</span>
            </button>
            <button
              type="button"
              class="language-option"
              [class.is-active]="languageFormControl.value === 'gr'"
              (click)="changeLanguage('gr'); responsiveMenuVisible = false"
            >
              <img src="https://www.worldometers.info/img/flags/gm-flag.gif" alt="Deutsch" />
              <span>Deutsch</span>
            </button>
            <button
              type="button"
              class="language-option"
              [class.is-active]="languageFormControl.value === 'fr'"
              (click)="changeLanguage('fr'); responsiveMenuVisible = false"
            >
              <img src="https://www.worldometers.info/img/flags/fr-flag.gif" alt="French" />
              <span>French</span>
            </button>
          </div>
        </div>
      </div>
    </div>

    <div class="menu-wrapper">
      <div class="hamburger-menu" [class.animate]="responsiveMenuVisible" (click)="responsiveMenuVisible = !responsiveMenuVisible"></div>
    </div>
  </div>

  <div
    class="menu-responsive"
    [class.aside-show]="responsiveMenuVisible"
    [ngStyle]="{ 'pointer-events': !responsiveMenuVisible ? 'none' : '' }"
  >
    <aside>
      <nav>
        <ul class="mobile-menu">
          <li [class.is-active]="isActive('about')">
            <button type="button" (click)="analyticsService.sendAnalyticEvent('click_about', 'menu', 'click'); responsiveMenuVisible = false; scroll('about')">
              <span>01.</span>
              {{ 'Header.Item1' | translate }}
            </button>
          </li>
          <li [class.is-active]="isActive('tech-stack')">
            <button type="button" (click)="analyticsService.sendAnalyticEvent('click_stack', 'menu', 'click'); responsiveMenuVisible = false; scroll('tech-stack')">
              <span>02.</span>
              {{ 'Header.Item2' | translate }}
            </button>
          </li>
          <li [class.is-active]="isActive('jobs')">
            <button type="button" (click)="analyticsService.sendAnalyticEvent('click_experience', 'menu', 'click'); responsiveMenuVisible = false; scroll('jobs')">
              <span>03.</span>
              {{ 'Header.Item3' | translate }}
            </button>
          </li>
          <li [class.is-active]="isActive('projects')">
            <button type="button" (click)="analyticsService.sendAnalyticEvent('click_jobs', 'menu', 'click'); responsiveMenuVisible = false; scroll('projects')">
              <span>04.</span>
              {{ 'Header.Item4' | translate }}
            </button>
          </li>
          <li [class.is-active]="isActive('contact')">
            <button type="button" (click)="analyticsService.sendAnalyticEvent('click_contact', 'menu', 'click'); responsiveMenuVisible = false; scroll('contact')">
              <span>05.</span>
              {{ 'Header.Item5' | translate }}
            </button>
          </li>
        </ul>

        <div class="mobile-actions">
          <button type="button" class="resume-chip" (click)="downloadCVConst(); responsiveMenuVisible = false">
            {{ 'Header.cvBtn' | translate }}
          </button>

          <div class="mobile-language">
            <button
              type="button"
              class="language-option"
              [class.is-active]="languageFormControl.value === 'en'"
              (click)="changeLanguage('en')"
            >
              <img src="https://www.worldometers.info/img/flags/us-flag.gif" alt="English" />
              <span>English</span>
            </button>
            <button
              type="button"
              class="language-option"
              [class.is-active]="languageFormControl.value === 'gr'"
              (click)="changeLanguage('gr')"
            >
              <img src="https://www.worldometers.info/img/flags/gm-flag.gif" alt="Deutsch" />
              <span>Deutsch</span>
            </button>
            <button
              type="button"
              class="language-option"
              [class.is-active]="languageFormControl.value === 'fr'"
              (click)="changeLanguage('fr')"
            >
              <img src="https://www.worldometers.info/img/flags/fr-flag.gif" alt="French" />
              <span>French</span>
            </button>
          </div>
        </div>
      </nav>
    </aside>
  </div>
</nav>
